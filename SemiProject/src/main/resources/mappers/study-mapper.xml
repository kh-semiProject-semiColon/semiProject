<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="kr.co.semi.main.Mapper.MainMapper">

	<!-- 스터디 생성 -->
	<insert id="studyCreation">
		INSERT INTO STUDY
		VALUES(SEQ_STUDY_NO.NEXTVAL, #{studyName}, DEFAULT, #{studyMaxCount}, DEFAULT, #{studyType}, #{studyPeriod}, #{studyMainImg})
	</insert>
	
	<!-- 스터디 번호 조회 -->
	<select id="studyNo">
		SELECT STUDY_NO
		FROM STUDY
		WHERE STUDY_NAME = #{studyName}
	</select>
	
	<!-- 스터디-멤버 테이블에 적용과 동시에 리더 지정 -->
	<insert id="studyMember">
		INSERT INTO STUDY_MEMBER
		VALUES(#{studyNo}, #{memberNo}, 'Y')
	</insert>

</mapper>
