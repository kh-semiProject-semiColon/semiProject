<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <title>구인 게시판</title>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/gh/fonts-archive/AppleSDGothicNeo/AppleSDGothicNeo.css"
      type="text/css"
    />
        <link href="/css/common/header.css" rel="stylesheet" />
       <link href="/css/common/footer.css" rel="stylesheet" />
    <link rel="stylesheet" th:href="@{/css/study/studyNow.css}" />
  </head>
  <body>
    <!-- hearder -->
    <th:block th:replace="~{common/header}"></th:block>

    <!-- 게시판 본문 -->
    <div class="main">
      <div class="side"></div>
      <main>
        <div class="titleContainer">
          <div class="board-title">스터디 현황</div>
          <div class="board-title-underline"></div>
        </div>

        <div class="board-container">
          <th:block th:if="${#lists.isEmpty(study)}">
            <tr>
              <th:block>게시글이 존재하지 않습니다.</th:block>
            </tr>
          </th:block>

          <!-- 게시글이 존재할 때 -->
          <th:block th:unless="${#lists.isEmpty(study)}">
            <div
              class="main-content"
              th:each="study, iterStat : ${study}"
              th:object="${study}"
            >
              <!-- 카드 -->
              <div class="card">
                <!-- 이미지 영역 -->
                <div class="card-image-container">
                  <img
                    th:unless="*{studyMainImg}"
                    th:src="#{user.default.image}"
                    alt="대표 이미지"
                    class="card-image"
                  >
                  <img th:if="*{studyMainImg}"
                        th:src="*{studyMainImg}" >
                </div>

                <!-- 본문 영역 -->
                <div class="card-content">
                  <div class="card-content">
                    <h2 class="card-title" th:text="*{studyName}">
                      모코콩의 파티
                    </h2>
                    <ul class="card-info-list">
                      <li>
                         방향성 :
                        <th:block th:switch="*{studyType}">
                          <span th:case="1">레벨업</span>
                          <span th:case="2">복습</span>
                          <span th:case="3">문제풀이</span>
                          <span th:case="4">자격증</span>
                          <span th:case="5">프로젝트</span>
                        </th:block>
                      </li>
                      <li>
                         스터디 생성일 : <span th:text="*{studyDate}"></span>
                      </li>
                      <li> 기간 : <span th:text="*{studyPeriod}+'개월'"></span></li>
                    </ul>
                  </div>


                </div>
                <!-- 하단 정보 -->
                <div class="card-footer">
                  <div>
                    <img th:unless="*{studyMainImg}"
                    th:src="#{user.default.image}"
                    alt="대표 이미지" class="leader-icon" />
                    <span class="leader-text">Team Leader</span>
                    <span class="leader-nickname">모코콩</span>
                  </div>
                  <div th:text="${memberCount[study.studyNo]} + '/' +${study.studyMaxCount}" class="member-count">3/5명</div>
                </div>
              </div>
            </div>
          </th:block>
        </div>

        <div
          class="write-button-container"
          th:if="${session.loginMember != null and session.loginMember.memberEmail != null}">
        >
          <button class="write-button">글쓰기</button>
        </div>

        <!-- 페이지 네이션 -->
        <!-- <div class="pagination">
          <button th:if="${currentPage > 1}" th:onclick="|location.href='@{/hire(page=${currentPage - 1})}'|">&laquo;</button>

          <button th:each="pageNum : ${#numbers.sequence(1, totalPages)}"
                  th:text="${pageNum}"
                  th:classappend="${pageNum == currentPage} ? 'active'"
                  th:onclick="|location.href='@{/hire(page=${pageNum})}'|">
          </button>

          <button th:if="${currentPage < totalPages}" th:onclick="|location.href='@{/hire(page=${currentPage + 1})}'|">&raquo;</button>
        </div> -->

        <div class="search-container">
          <select class="search-category" name="category">
            <option value="title" th:selected="${category == 'title'}">
              제목
            </option>
            <option value="author" th:selected="${category == 'author'}">
              작성자
            </option>
          </select>
          <input
            type="text"
            class="search-input"
            name="keyword"
            th:value="${keyword}"
            placeholder="검색"
          />
        </div>
      </main>
      <div class="side"></div>
    </div>

    <!-- footer -->
    <th:block th:replace="~{common/footer}"></th:block>

    <script src="/js/hire/hireBoard.js"></script>

    <script src="/js/hire/boardDetail.js"></script>
  </body>
</html>
