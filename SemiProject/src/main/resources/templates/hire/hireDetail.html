<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <title>구인 게시글 상세</title>
    <link rel="stylesheet" th:href="@{/css/hire/hireDetail.css}" />
  </head>
  <body>
    <!-- hearder -->
    <th:block th:replace="~{common/header}"></th:block>

    <main class="board-detail-container">
      <!-- 게시판 이름 -->
      <div class="board-name">구인 게시판</div>

      <!-- 게시글 헤더 -->
      <div class="post-header">
        <h2 class="post-title" th:text="${hireInfo.hireTitle}">게시글 제목</h2>
        <div
          class="post-controls"
          th:if="${loginMember != null} and ${loginMember.memberNo == hireInfo.memberNo}"
        >
          <button class="post-btn">수정</button>
          <button class="post-btn">삭제</button>
        </div>
      </div>

      <!-- 작성자 정보 -->
      <div class="author-info">
        <img
          th:src="${hireInfo.profileImg}"
          class="profile-img"
          alt="프로필 이미지"
        />
        <div class="author-meta">
          <div class="author-name" th:text="${hireInfo.memberNickname}">
            글 작성자
          </div>
          <div class="author-date" th:text="${hireInfo.hireDate}">작성일</div>
        </div>
        <div class="post-views" th:text="${hireInfo.hireReadCount} + ' 조회'">
          조회수
        </div>
      </div>

      <!-- 게시글과 댓글 사이 구분선 -->
      <hr class="post-divider" />

      <!-- 구인글 요약 박스 -->
      <div class="study-details">
        <div class="details-title" th:text="${study.studyName}">스터디명</div>
        <div class="detail-item">
          <div class="detail-label">방향성</div>
          <div class="detail-value">
            <th:block th:switch="${study.studyType}">
              <span th:case="1">레벨업</span>
              <span th:case="2">복습</span>
              <span th:case="3">문제풀이</span>
              <span th:case="4">자격증</span>
              <span th:case="5">프로젝트</span>
              <span th:case="*">기타</span>
              <!-- 기본값 -->
            </th:block>
          </div>
        </div>
        <div class="detail-item">
          <div class="detail-label">기간</div>
          <div class="detail-value">
            <th:block th:switch="${study.studyPeriod}">
              <span th:case="0">무기한</span>
              <span th:case="*" th:text="${study.studyPeriod} + '개월'"
                >개월</span
              >
              <!-- 기본값 -->
            </th:block>
          </div>
        </div>
        <div class="detail-item">
          <div class="detail-label">현재 인원</div>
          <div class="detail-item">
            <div
              class="detail-value"
              th:text="${(study.studyMaxCount ?: 0) - (hireInfo.hireCount ?: 0)}"
            >
              3
            </div>
            <div class="detail-value1">/</div>
            <div class="detail-value1" th:text="${study.studyMaxCount} + '명'">
              5
            </div>
          </div>
        </div>
      </div>

      <!-- 게시글 본문 -->
      <div class="post-content" th:text="${hireInfo.hireContent}"></div>

      <!-- 댓글 섹션 -->
      <h3 class="comments-title">댓글</h3>
      <hr class="divider-post-comment" />
      <div class="comments-section">
        <!-- 첫 댓글 -->
        <div class="comment">
          <img
            src="/images/commenter.png"
            class="comment-profile"
            alt="댓글자 프로필"
          />
          <div class="comment-body">
            <div class="comment-header">
              <span class="comment-author">딩딩대왕</span>
              <button class="invite-btn">초대하기</button>
            </div>
            <div class="comment-text">저랑 같이 해요!</div>
            <div class="comment-footer">
              <span class="comment-date">2025.05.20 13:03</span>
              <div class="comment-actions">
                <button>답글</button>
                <button>수정</button>
                <button>삭제</button>
              </div>
            </div>
          </div>
        </div>

        <hr class="divider-comment" />

        <!-- 대댓글 -->
        <div class="reply">
          <img
            src="/"
            class="reply-profile"
            alt="대댓글자 프로필"
            onclick="openResumeModal()"
          />
          <div class="comment-body">
            <div class="reply-header">
              <span class="comment-author">모코콩</span>
              <button class="invite-btn">초대하기</button>
            </div>
            <div class="comment-text">좋아요, 디스코드 아이디 주세요.</div>
            <div class="comment-footer">
              <span class="comment-date">2025.05.20 13:15</span>
              <div class="comment-actions">
                <button>답글</button>
                <button>수정</button>
                <button>삭제</button>
              </div>
            </div>
          </div>
        </div>

        <hr class="divider-comment" />

        <!-- 또 다른 댓글 -->
        <div class="comment">
          <img
            src="/images/commenter3.png"
            class="comment-profile"
            alt="댓글자 프로필"
          />
          <div class="comment-body">
            <div class="comment-header">
              <span class="comment-author">별이반짝</span>
              <button class="invite-btn">초대하기</button>
            </div>
            <div class="comment-text">저도 참여할게요~</div>
            <div class="comment-footer">
              <span class="comment-date">2025.05.20 14:00</span>
              <div class="comment-actions">
                <button>답글</button>
                <button>수정</button>
                <button>삭제</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>

    <!-- 이력서 팝업 -->
    <div class="resume-modal" id="resumeModal">
      <div class="resume-content">
        <div class="resume-header">
          <span class="resume-title">이력서</span>
          <button class="resume-close" onclick="closeResumeModal()">×</button>
        </div>
        <div class="resume-body">
          <div class="resume-row">
            <span class="resume-label">닉네임</span>
            <div class="resume-profile">
              <img src="프로필이미지.png" class="resume-avatar" />
              <span class="resume-nickname">짱구</span>
            </div>
          </div>
          <div class="resume-row">
            <span class="resume-label">자기소개</span>
            <div class="resume-intro">
              ㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋ
            </div>
          </div>
          <div class="resume-row">
            <span class="resume-label">컴퓨터 전공 여부</span>
            <div class="resume-radio">
              <label
                ><input type="radio" name="major" checked disabled /> ●</label
              >
              <label><input type="radio" name="major" disabled /> ○</label>
              <label><input type="radio" name="major" disabled /> ✕</label>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- 팝업창 js -->
    <script>
      function openResumeModal() {
        document.getElementById("resumeModal").style.display = "flex";
      }

      function closeResumeModal() {
        document.getElementById("resumeModal").style.display = "none";
      }
    </script>

    <!-- footer -->
    <th:block th:replace="~{common/footer}"></th:block>
  </body>
</html>
